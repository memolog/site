<!doctype html>
<html lang="ja">
<head>
  <title>Flex Layout Algorithm | ãƒ¡ãƒ¢ãƒ­ã‚°</title>
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://www.google-analytics.com">
  <link rel="shortcut icon" href="/assets/icons/icon-32.ico">
  <style>body {
  background-color: white;
  color: black;
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Hiragino Kaku Gothic Pro',  YuGothic, 'Yu Gothic', Meiryo, sans-serif;
  margin: 0;
  padding: 0;
}

.header {
  margin: 0 auto;
  font-family: Garamond, 'Times New Roman', serif; }

.header_component_global {
  text-align: center;
  margin: 1em auto;
  max-width: 700px;
}

.header__title {
  margin: .2em 0 .2em;
  font-size: 1.8em;
  font-weight: normal;
  vertical-align: bottom;
}

.header__title a,
.header__title > span {
  color: black;
  text-decoration: none;
  display: inline-block;
  background-color: #f5f2f0;
  padding: 5px;
}

.header_component_global .header__title {
  font-size: 1.2em;
}

.header_component_global .header__title a {
  text-decoration: none;
  color: black;
}

.main .header .header__title {
  position: sticky;
  top: 0;
  z-index: 100;
  opacity: .8;
  margin-bottom: 0;
}

.header__description {
  margin-top: 0;
  margin-bottom: 1em; }

.header_component_global .header__description {
  color: #666;
  margin: 0 auto;
  padding: 0 5px; }

.header__epigraph {
  font-style: italic;
  color: #666;
  margin: 0 auto;
  padding: 5px; }

.container {
  max-width: 700px;
  margin: 0 auto 4em;
  padding: 0 15px;
  border-radius: 3px;
}

.content {
  font-size: 1.125em;
  line-height: 2em;
  background: white;
  color: #222;
  -webkit-font-smoothing: antialiased;
}

.content h2,
.content h3 {
  font-size: 1.4em;
  margin: 2em 0 1em 0;
  border-bottom: 1px solid #ddd;
}

.article-summary {
  margin-bottom: 3.5em;
  content-visibility: auto;
  contain-intrinsic-size: 700px 577px;
}

.header time {
  display: inline-block;
  font-size: .9125em;
  color: #666;
}

.calendar-icon, .author-icon {
  margin-right: .5em;
}

.content blockquote {
  border: 5px solid #ddd;
  background: #f9f9f9;
  margin: 1.5em 0;
  padding: 0 1em;
}

.content p > code,
.content li > code {
  background-color: #f5f2f0;
  display: inline-block;
  padding: 0 6px;
  border-radius: .3em;
  color:#444;
}

.content table {
  background: #e0e0e0;
}

.content th {
  background: #f0f0f0;
}

.content tr {
  background: #fff;
}

.content tr:nth-child(even) {
  background: #f0f0f0;
}

.content td {
  padding: 5px 1em;
  text-align: center;
}

.content code[class*="language-"] {
  color: #444;
}

.header__feature {
  margin: .5em 0 -.5em;
  position: relative;
}

.header__feature img {
  max-width: 100%;
  overflow: hidden;
}

.featured__image {
  background: white;
  line-height: 0;
  max-height: 335px;
  overflow: hidden;
}

.featured__credit {
  color: #333;
  font-size: .825em;
  text-align: right;
  position: absolute;
  right: 0;
  bottom: 0;
  padding: 7px;
  background: #f0f0f0;
  opacity: .8;
}

.lazyload,
.lazyloading {
	opacity: 0.5;
}

.lazyloaded {
	opacity: 1;
	transition: opacity 2s .3s cubic-bezier(.3,.18,.15,1);
}

.content img {
  max-width: 100%;
}

.youtube-wrapper {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
  padding-bottom: 56.25%;
}

.youtube-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  border: 0;
}

@media screen and (max-width: 500px) {
  .header__epigraph {
    display: none;
  }

  .header__title {
    font-size: 1.2em;
  }

  .content h2 {
    font-size: 1.2em;
  }

  .main .header .header__title {
    margin-bottom: 30px;
  }

  .header__feature {
    margin-top: -23px;
  }

  .featured__credit {
    margin-left: -15px;
    margin-right: -15px;
    position: relative;
  }
}

@media screen and (max-width: 700px) {
  .featured__image,
  .content__image,
  .content pre[class*="language-"],
  .youtube-wrapper {
    margin: 0 -15px;
  }
}

@media screen and (max-width: 700px) {
  .featured__image,
  .content__image,
  .content pre[class*="language-"] {
    margin: 0 -15px;
  }
}

.link-icon {
  background-position-x: 4px;
  background-position-y: center;
  background-repeat: no-repeat;
  padding-left: 24px;
}

.post .writing-vertical {
  writing-mode: vertical-rl;
  font-family: serif;
  font-size: 1em;
  margin: 1.5em 0;
  column-count: 2;
  max-width: 700px;
  width: 102%;
  overflow: auto;
  height: 800px;
}

.post .writing-vertical p {
  margin: 0;
}

.post .writing-vertical p a {
  padding-left: 0px;
  padding-top: 24px;
}

.post .writing-vertical p:first-letter {
  margin-top: 1em;
}

.post .writing-vertical .link-icon {
  background-position-x: center;
  background-position-y: 5px;
}

.post .writing-vertical blockquote {
  border: none;
  margin: 0 .5em;
  padding: 1em .5em;
  background: #f0f0f0;
}

@media screen and (max-width: 730px) {
  .post .writing-vertical {
    margin-left: 0;
    margin-right: 0;
    width: 100%;
  }
}
</style>
  <script>window.lazyLoadOptions = {};</script>
  <link rel="preload" as="style" href="/css/global_async.css" onload="this.rel='stylesheet'">
  <link rel="alternate" href="http://feeds.feedburner.com/jp/memolog" title="Latest Articles" >
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png">
  <link rel="manifest" href="/manifest.json" >
  <meta name="theme-color" content="white">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-955153-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-955153-2');
  </script>
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@graph":
    [
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "url": "http://memolog.org",
        "logo": "https://memolog.org/assets/icons/icon-1024.png"
      },
      {
        "@context": "http://schema.org",
        "@type": "Person",
        "name": "Yutaka Yamaguchi",
        "url": "http://memolog.org",
        "sameAs": [
          "https://www.facebook.com/yutaka.yamaguchi",
          "https://www.linkedin.com/in/yutakayamaguchi/",
          "https://twitter.com/memolog"
        ]
      }
    ]
  }
  </script>

  <meta name="description" content="ä»Šå›ã¯9. Flex Layout Algorithmã«ã¤ã„ã¦ã€‚ã“ã®ç« ã¯è¦‹ãªãã¦è‰¯ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¤ã¤ã€å†™çµŒã®ã‚ˆã†ãªæ„Ÿã˜ã§ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã†ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Flex Layout Algorithm">
<meta property="og:url" content="https://memolog.org/2020/flex-layout-algorithm.html">
<meta property="og:site_name" content="ãƒ¡ãƒ¢ãƒ­ã‚°">
<meta property="og:description" content="ä»Šå›ã¯9. Flex Layout Algorithmã«ã¤ã„ã¦ã€‚ã“ã®ç« ã¯è¦‹ãªãã¦è‰¯ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¤ã¤ã€å†™çµŒã®ã‚ˆã†ãªæ„Ÿã˜ã§ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã†ã€‚">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://memolog.org/assets/images/sarah-madaio-fpZHGVBzlYk-unsplash/sarah-madaio-fpZHGVBzlYk-unsplash.jpg">
<meta property="article:published_time" content="2020-07-26T02:56:00.000Z">
<meta property="article:modified_time" content="2020-07-26T02:56:22.348Z">
<meta property="article:author" content="Yutaka Yamaguchi">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://memolog.org/assets/images/sarah-madaio-fpZHGVBzlYk-unsplash/sarah-madaio-fpZHGVBzlYk-unsplash.jpg">
<meta name="twitter:creator" content="@memolog">
<meta name="twitter:site" content="https://twitter.com/memolog">
<meta property="fb:app_id" content="168245123786587">
  <link rel="canonical" href="https://memolog.org/2020/flex-layout-algorithm.html">
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://memolog.org/2020/flex-layout-algorithm.html"
      },
      "headline": "Flex Layout Algorithm",
      
        "image": [
          "https://memolog.org/assets/images/sarah-madaio-fpZHGVBzlYk-unsplash/sarah-madaio-fpZHGVBzlYk-unsplash.jpg"
        ],
      
      "datePublished": "1595732160000",
      "dateModified": "1595732182348",
      "author": {
        "@type": "Person",
        "name": "Yutaka Yamaguchi"
      },
      "publisher": {
        "@type": "Organization",
        "name": "ãƒ¡ãƒ¢ãƒ­ã‚°",
        "logo": {
          "@type": "ImageObject",
          "url": "https://memolog.org/assets/icons/icon-1024.png"
        }
      },
      "description": "ä»Šå›ã¯9. Flex Layout Algorithmã«ã¤ã„ã¦ã€‚ã“ã®ç« ã¯è¦‹ãªãã¦è‰¯ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¤ã¤ã€å†™çµŒã®ã‚ˆã†ãªæ„Ÿã˜ã§ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã†ã€‚"
    }
  </script>
<meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="ãƒ¡ãƒ¢ãƒ­ã‚°" type="application/atom+xml">
</head>
<body class="post">
    <header class="header header_component_global">
    <div class="header__icon" aria-hidden="true"><img src="/assets/icons/icon.svg" role="presentation" width="48" height="48" alt="icon"></div>
    <h1 class="header__title header__title"><a href="/">ãƒ¡ãƒ¢ãƒ­ã‚°</a></h1>
    <p class="header__description">ğŸ’¡ Personal notes about anything I&#39;m interested in</p>
    <aside aria-hidden="true"><blockquote class="header__epigraph">Well, he fuffed, and he puffed, and he huffed and he puffed, and he puffed and huffed; but he could not get the house down.</blockquote></aside>
    <nav class="navigation navigation-global">
      <a href="/" class="navigation__link">ğŸ“˜ Latest Articles</a>
    </nav>
  </header>

  <div class="container">
    <main class="main">
      <article>
        <header class="header">
          <div>
            <time datetime="2020-07-26T02:56:00.000Z">
              <span class="calendar-icon">ğŸ“…</span><span>2020å¹´7æœˆ26æ—¥</span>
            </time>
          </div>
          <h2 class="header__title"><span>Flex Layout Algorithm</span></h2>
          
            <div class="header__feature" aria-hidden="true">
  <div class="featured__image">
    
      
        <div style="background-color: #40797d"><img src="/assets/images/sarah-madaio-fpZHGVBzlYk-unsplash/sarah-madaio-fpZHGVBzlYk-unsplash.svg" alt="" role="presentation" loading="lazy" width="1024" height="680" /></div>
      
    
  </div>
  
    
      <div class="featured__credit">Original Photo by <a href="https://unsplash.com/@smadaio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="noopener" tabindex="-1">Sarah Madaio</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener" tabindex="-1">Unsplash</a></div>
    
    
  
</div>

          
        </header>
        <div id="article-content" class="content "><p>ä»Šå›ã¯<a href="https://www.w3.org/TR/css-flexbox-1/#layout-algorithm" target="_blank" rel="noopener">9. Flex Layout Algorithm</a>ã«ã¤ã„ã¦ã€‚ã“ã®ç« ã¯è¦‹ãªãã¦è‰¯ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¤ã¤ã€å†™çµŒã®ã‚ˆã†ãªæ„Ÿã˜ã§ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã†ã€‚<a id="more"></a></p>
<blockquote>
<p>This section contains normative algorithms detailing the exact layout behavior of a flex container and its contents. The algorithms here are written to optimize readability and theoretical simplicity, and may not necessarily be the most efficient. Implementations may use whatever actual algorithms they wish, but must produce the same results as the algorithms described here.</p>
<p><strong>Note:</strong> This section is mainly intended for implementors. Authors writing web pages should generally be served well by the individual property descriptions, and do not need to read this section unless they have a deep-seated urge to understand arcane details of CSS layout.</p>
<p>The following sections define the algorithm for laying out a flex container and its contents.</p>
<p><strong>Note:</strong> Flex layout works with the flex items in order-modified document order, not their original document order.</p>
</blockquote>
<p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯flex containerãŠã‚ˆã³ãã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ­£ç¢ºãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æŒ¯ã‚‹èˆã„ã«ã¤ã„ã¦ã®è¦ç¯„çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°ã‚’å«ã‚“ã§ã„ã‚‹ã€‚ã“ã“ã«ã‚ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å¯èª­æ€§ã‚„ç†è«–çš„ãªç°¡æ˜“ã•ã‚’é©åˆ‡ã«ã™ã‚‹ãŸã‚ã«æ›¸ã‹ã‚Œã¦ãŠã‚Šã€æœ€ã‚‚åŠ¹ç‡çš„ã§ã‚ã‚‹ã¨ã¯é™ã‚‰ãªã„ã€‚å®Ÿè£…ã«ã¯ãã‚Œã‚‰ãŒæœ›ã¾ã—ã„ã¨æ€ã†å®Ÿéš›ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½•ã§ã‚‚åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãŒã€ã“ã“ã«ç¤ºã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨åŒã˜çµæœã‚’å‡ºåŠ›ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚</p>
<p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¸»ã«å®Ÿè£…è€…ã«å¯¾ã—ã¦æ›¸ã‹ã‚Œã¦ã„ã‚‹ã€‚WEBãƒšãƒ¼ã‚¸ã®åˆ¶ä½œè€…ã«ã¯å€‹ã€…ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¨˜è¿°ã«ã‚ˆã£ã¦é©åˆ‡ã«æƒ…å ±æä¾›ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€<br>CSSãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®é›£è§£ãªè©³ç´°ã‚’æ·±ãç†è§£ã—ãŸã„ã¨ã„ã†ã“ã¨ãŒãªã‘ã‚Œã°ã€ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’èª­ã‚€å¿…è¦ã¯ãªã„ã€‚</p>
<p>æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯flex containerã¨ãã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã™ã‚‹ãŸã‚ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®šç¾©ã™ã‚‹ã€‚</p>
<p>flex layoutã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé †ã§ã¯ãªãã€order-modifiedã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé †ã§flex itemsã‚’æ“ä½œã™ã‚‹ã€‚</p>
<h3 id="9-1-Initial-Setup"><a href="#9-1-Initial-Setup" class="headerlink" title="9.1. Initial Setup"></a>9.1. Initial Setup</h3><blockquote>
<p><strong>1. Generate anonymous flex items</strong> as described in <a href="https://www.w3.org/TR/css-flexbox-1/#flex-items" target="_blank" rel="noopener">Â§4 Flex Items</a>.</p>
</blockquote>
<p><a href="https://www.w3.org/TR/css-flexbox-1/#flex-items" target="_blank" rel="noopener">Â§4 Flex Items</a>ã§è¨˜è¿°ã—ãŸã‚ˆã†ã«ã€<strong>åŒ¿åã®flex itemsã‚’ç”Ÿæˆã™ã‚‹</strong></p>
<h3 id="9-2-Line-Length-Determination"><a href="#9-2-Line-Length-Determination" class="headerlink" title="9.2. Line Length Determination"></a>9.2. Line Length Determination</h3><blockquote>
<p><strong>2. Determine the available main and cross space for the flex items.</strong> For each dimension, if that dimension of the flex containerâ€™s content box is a definite size, use that; if that dimension of the flex container is being sized under a min or max-content constraint, the available space in that dimension is that constraint; otherwise, subtract the flex containerâ€™s margin, border, and padding from the space available to the flex container in that dimension and use that value.</p>
<p>This might result in an infinite value.</p>
</blockquote>
<p><strong>2. flex itemsã«å¯¾ã—ã¦åˆ©ç”¨å¯èƒ½ãªmain/crossã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’æ±ºå®šã™ã‚‹ã€‚</strong>ãã‚Œãã‚Œã®æ¬¡å…ƒã«å¯¾ã—ã¦ã€ã‚‚ã—flex containerã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„boxã®æ¬¡å…ƒãŒã€æ˜ç¢ºãªã‚µã‚¤ã‚ºã§ã‚ã‚‹ãªã‚‰ã€ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã€‚ã‚‚ã—flex containerã®æ¬¡å…ƒãŒmin/max-contentã®åˆ¶ç´„ä¸‹ã§ã‚µã‚¤ã‚ºã‚’æŒ‡å®šã™ã‚‹ãªã‚‰ã€ãã®æ¬¡å…ƒã«ãŠã‘ã‚‹åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã¯ãã®åˆ¶ç´„ã«ãªã‚‹ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã¯ã€ã“ã®æ¬¡å…ƒã«ãŠã‘ã‚‹flex containerã«å¯¾ã—ã¦åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã‹ã‚‰ã€flex containerã®ãƒãƒ¼ã‚¸ãƒ³ã€ãƒœãƒ¼ãƒ€ãƒ¼ã€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãªã©ã‚’å·®ã—å¼•ã„ãŸã‚‚ã®ã«ãªã‚‹ã€‚</p>
<p>çµæœã¨ã—ã¦å€¤ãŒç„¡é™ã«ãªã‚‹å ´åˆãŒã‚ã‚‹ã€‚</p>
<blockquote>
<p><strong>EXAMPLE 13</strong><br>For example, the available space to a flex item in a floated auto-sized flex container is:</p>
<ul>
<li>the width of the flex containerâ€™s containing block minus the flex containerâ€™s margin, border, and padding in the horizontal dimension</li>
<li>infinite in the vertical dimension</li>
</ul>
</blockquote>
<p>ãŸã¨ãˆã°ã€ãƒ•ãƒ­ãƒ¼ãƒˆã—ãŸauto-sized flex containerã«ãŠã‘ã‚‹flex itemã®åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚</p>
<ul>
<li>flex containerã®åŒ…å«ãƒ–ãƒ­ãƒƒã‚¯ã®å¹…ã‹ã‚‰æ°´å¹³æ–¹å‘ã®æ¬¡å…ƒã®flex containerã®ãƒãƒ¼ã‚¸ãƒ³ãƒ»ãƒœãƒ¼ãƒ€ãƒ¼ãƒ»ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’ãƒã‚¤ãƒŠã‚¹ã™ã‚‹</li>
<li>ç¸¦æ–¹å‘ã«ã¤ã„ã¦ã¯ã€ç„¡é™ã«ãªã‚‹</li>
</ul>
<blockquote>
<p><strong>3. Determine the flex base size and hypothetical main size of each item:</strong></p>
</blockquote>
<p><strong>3. ãã‚Œãã‚Œã®itemã®flex base sizeã¨ä»®æƒ³main sizeã‚’æ±ºå®šã™ã‚‹</strong></p>
<blockquote>
<p>A. If the item has a definite used flex basis, thatâ€™s the flex base size.<br>B. If the flex item has â€¦</p>
<ul>
<li>an intrinsic aspect ratio,</li>
<li>a used flex basis of content, and</li>
<li>a definite cross size,<br>then the flex base size is calculated from its inner cross size and the flex itemâ€™s intrinsic aspect ratio.</li>
</ul>
<p>C. If the used flex basis is content or depends on its available space, and the flex container is being sized under a min-content or max-content constraint (e.g. when performing automatic table layout [CSS21]), size the item under that constraint. The flex base size is the itemâ€™s resulting main size.<br>D. Otherwise, if the used flex basis is content or depends on its available space, the available main size is infinite, and the flex itemâ€™s inline axis is parallel to the main axis, lay the item out using the rules for a box in an orthogonal flow [CSS3-WRITING-MODES]. The flex base size is the itemâ€™s max-content main size.<br><strong>Note:</strong> This case occurs, for example, in an English document (horizontal writing mode) containing a column flex container containing a vertical Japanese (vertical writing mode) flex item.<br>E. Otherwise, size the item into the available space using its used flex basis in place of its main size, treating a value of content as max-content. If a cross size is needed to determine the main size (e.g. when the flex itemâ€™s main size is in its block axis) and the flex itemâ€™s cross size is auto and not definite, in this calculation use fit-content as the flex itemâ€™s cross size. The flex base size is the itemâ€™s resulting main size.</p>
<p>When determining the flex base size, the itemâ€™s min and max main sizes are ignored (no clamping occurs). Furthermore, the sizing calculations that floor the content box size at zero when applying box-sizing are also ignored. (For example, an item with a specified size of zero, positive padding, and box-sizing: border-box will have an outer flex base size of zeroâ€”and hence a negative inner flex base size.)</p>
<p>The hypothetical main size is the itemâ€™s flex base size clamped according to its used min and max main sizes (and flooring the content box size at zero).</p>
<p>Determine the main size of the flex container using the rules of the formatting context in which it participates. For this computation, auto margins on flex items are treated as 0.</p>
</blockquote>
<p>A. ã‚‚ã—itemãŒæ˜ç¢ºãªflex basisã®å€¤ãŒã‚ã‚‹ãªã‚‰ã€ãã‚ŒãŒflex base sizeã«ãªã‚‹ã€‚</p>
<p>B. ã‚‚ã—flex itemãŒä»¥ä¸‹ã®å€¤ã‚’æŒã£ã¦ã„ãŸã‚‰â€¦</p>
<ul>
<li>intrinsicãªã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”</li>
<li>flex basisã®ä½¿ç”¨å€¤ãŒcontent</li>
<li>cross sizeã®æ˜ç¢ºãªå€¤</li>
</ul>
<p>flex base sizeã¯itemã®å†…éƒ¨cross sizeã¨intrinsicãªã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‹ã‚‰è¨ˆç®—ã•ã‚Œã‚‹</p>
<p>C. flex basisã®ä½¿ç”¨å€¤ãŒcontentã§ã‚ã‚‹ã‹åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã«ä¾å­˜ã™ã‚‹å ´åˆã§ã€flex containerãŒmin/max-contentã®åˆ¶ç´„ä¸‹ã§ã‚µã‚¤ã‚ºã‚’æ±ºå®šã™ã‚‹ï¼ˆä¾‹ãˆã°è‡ªå‹•tableãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ï¼‰å ´åˆã€ãã®åˆ¶ç´„ä¸‹ã§ã‚µã‚¤ã‚ºã‚’æ±ºå®šã™ã‚‹ã€‚ãã®flex base sizeã¯itemã®æœ€çµ‚çš„ãªmain sizeã«ãªã‚‹ã€‚</p>
<p>D. ãã‚Œä»¥å¤–ã®å ´åˆã§ã€ã‚‚ã—flex basisã®ä½¿ç”¨å€¤ãŒcontentã‹ã§ã‚ã‚‹åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã«ä¾å­˜ã™ã‚‹å ´åˆã§ã€åˆ©ç”¨å¯èƒ½ãªmain sizeãŒç„¡é™ã§flex itemã®inline axisãŒmain axisã¨å¹³è¡Œã§ã‚ã‚‹å ´åˆã€ç›´äº¤ã™ã‚‹ãƒ•ãƒ­ãƒ¼å†…ã®boxã«å¯¾ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦itemã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã™ã‚‹ã€‚flex base sizeã¯itemã®max-content main sizeã«ãªã‚‹ã€‚</p>
<p>E. ãã‚Œä»¥å¤–ã®å ´åˆã€contentã®å€¤ã‚’max-contentã®å€¤ã¨ã—ã¦æ‰±ã„ã€main sizeã®ä»£ã‚ã‚Šã«flex basisã‚’ä½¿ã£ã¦åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã§itemã®ã‚µã‚¤ã‚ºã‚’æ±ºå®šã™ã‚‹ã€‚ã‚‚ã—cross sizeãŒmain sizeã‚’æ±ºå®šã™ã‚‹ã®ã«å¿…è¦ã¨ã•ã‚Œã‚‹å ´åˆï¼ˆãŸã¨ãˆã°ã€flex itemã®main sizeãŒblock axiså†…ã«ã‚ã‚‹å ´åˆï¼‰ã§ã€flex itemã®cross sizeãŒautoã§æ˜ç¢ºã§ã¯ãªã„å ´åˆã€flex itemã®cross sizeã¨ã—ã¦<code>fit-content</code>ã‚’ä½¿ã£ã¦è¨ˆç®—ã™ã‚‹ã€‚flex base sizeã¯itemã®æœ€çµ‚çš„ãªmain sizeã«ãªã‚‹ã€‚</p>
<p>flex base sizeãŒæ±ºå®šã—ãŸã‚‰ã€itemã®min/maxã‚µã‚¤ã‚ºã¯ç„¡è¦–ã•ã‚Œã‚‹ï¼ˆclampingï¼ˆå€¤ã®åˆ¶é™ï¼‰ãŒç™ºç”Ÿã—ãªããªã‚‹ï¼‰ã€‚ã•ã‚‰ã«ã€box-sizingã‚’é©ç”¨ã™ã‚‹å ´åˆã€content boxã®ã‚µã‚¤ã‚ºã‚’ã‚¼ãƒ­ã«åˆ‡ã‚Šæ¨ã¦ã‚‹ã‚µã‚¤ã‚ºã®è¨ˆç®—ã‚‚ç„¡è¦–ã•ã‚Œã‚‹ï¼ˆãŸã¨ãˆã°ã€ã‚¼ãƒ­ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹itemã§ã€æ­£ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒã‚ã‚Šã€ã‹ã¤<code>box-sizing: border-box</code>ã§ã‚ã‚‹å ´åˆã€outer flex base sizeãŒã‚¼ãƒ­ã«ãªã‚Šã€ã—ãŸãŒã£ã¦è² ã®inner flex base sizeã«ãªã‚‹ï¼‰ã€‚</p>
<p>ä»®æƒ³ã®main sizeã¯ã€min/max main sizeã®ä½¿ç”¨å€¤ã«ã—ãŸãŒã£ã¦åˆ¶é™ã•ã‚ŒãŸã€itemã®flex base sizeã«ãªã‚‹ï¼ˆãã—ã¦content boxã®ã‚µã‚¤ã‚ºã¯ã‚¼ãƒ­ã«åˆ‡ã‚Šæ¨ã¦ã‚‰ã‚Œã‚‹ï¼‰ã€‚</p>
<p>flex containerã®main sizeã¯ã€å‚åŠ ã—ã¦ã„ã‚‹formatting contextã®ãƒ«ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦æ±ºå®šã™ã‚‹ã€‚ã“ã®è¨ˆç®—ã«ãŠã„ã¦ã€flex itemsã®autoãƒãƒ¼ã‚¸ãƒ³ã¯0ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚</p>
<h3 id="9-3-Main-Size-Determination"><a href="#9-3-Main-Size-Determination" class="headerlink" title="9.3. Main Size Determination"></a>9.3. Main Size Determination</h3><blockquote>
<p><strong>5. Collect flex items into flex lines:</strong></p>
<ul>
<li>If the flex container is single-line, collect all the flex items into a single flex line.</li>
<li>Otherwise, starting from the first uncollected item, collect consecutive items one by one until the first time that the next collected item would not fit into the flex containerâ€™s inner main size (or until a forced break is encountered, see <a href="https://www.w3.org/TR/css-flexbox-1/#pagination" target="_blank" rel="noopener">Â§10 Fragmenting Flex Layout</a>). If the very first uncollected item wouldnâ€™t fit, collect just it into the line.<br>For this step, the size of a flex item is its outer hypothetical main size. (Note: This can be negative.)<br>Repeat until all flex items have been collected into flex lines.<br>Note that the â€œcollect as manyâ€ line will collect zero-sized flex items onto the end of the previous line even if the last non-zero item exactly â€œfilled upâ€ the line.</li>
</ul>
</blockquote>
<p><strong>5. flex itemsã‚’flexè¡Œã«é›†ã‚ã‚‹</strong></p>
<ul>
<li>ã‚‚ã—flex containerãŒ1è¡Œã®å ´åˆã€ã™ã¹ã¦ã®flex itemsã‚’ä¸€ã¤ã®flexè¡Œã«é›†ã‚ã‚‹</li>
<li>ãã‚Œä»¥å¤–ã®å ´åˆã€æœ€åˆã®æœªåé›†ã®itemã‹ã‚‰å§‹ã‚ã¦ã€æ¬¡ã«åé›†ã™ã‚‹itemãŒflex containerã®inner main sizeã«ãƒ•ã‚£ãƒƒãƒˆã—ãªããªã‚‹ã¾ã§ï¼ˆã¾ãŸã¯å¼·åˆ¶çš„ãªbreakãŒç™ºç”Ÿã™ã‚‹ã¾ã§ã€‚<a href="https://www.w3.org/TR/css-flexbox-1/#pagination" target="_blank" rel="noopener">Â§10 Fragmenting Flex Layout</a>ã‚’å‚ç…§ï¼‰ã€é€£ç¶šã™ã‚‹itemsã‚’ä¸€ã¤ãšã¤é›†ã‚ã¦ã„ãã€‚ã‚‚ã—æœ€åˆã®æœªåé›†ã®itemãŒãƒ•ã‚£ãƒƒãƒˆã—ãªã„å ´åˆã€ãã‚Œã ã‘ã‚’è¡Œã«é›†ã‚ã‚‹ã€‚<br>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã«å¯¾ã—ã¦ã€flex itemã®ã‚µã‚¤ã‚ºã¯ãã®ä»®æƒ³ã®outer main size ã«ãªã‚‹ï¼ˆã“ã‚Œã¯è² ã®å€¤ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ï¼‰<br>ãã—ã¦ã™ã¹ã¦ã®flex itemãŒflexè¡Œã«é›†ã‚ã‚‰ã‚Œã‚‹ã¾ã§ç¹°ã‚Šè¿”ã™ã€‚<br>ã“ã®è¡Œã«ã€Œé›†ã‚ã‚‹ã€ä½œæ¥­ã¯ã€ãŸã¨ãˆæœ€å¾Œã®ã‚¼ãƒ­ã§ã¯ãªã„itemãŒæ­£ç¢ºã«è¡Œã«ã€Œæº€ãŸã•ã‚ŒãŸã€å ´åˆã§ã‚‚ã€ã‚¼ãƒ­ã‚µã‚¤ã‚ºã®flex itemsã‚’å‰ã®è¡Œã®æœ€å¾Œã«é›†ã‚ã‚‹ã€‚</li>
</ul>
<blockquote>
<p><strong>6. Resolve the flexible lengths</strong> of all the flex items to find their used main size. See <a href="https://www.w3.org/TR/css-flexbox-1/#resolve-flexible-lengths" target="_blank" rel="noopener">Â§9.7 Resolving Flexible Lengths</a>.</p>
</blockquote>
<p><strong>6.</strong>main sizeã®ä½¿ç”¨å€¤ã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã«ã™ã¹ã¦ã®flex itemsã«ã¤ã„ã¦<strong>flexible lengthã‚’è§£æ±ºã™ã‚‹</strong>ã€‚<a href="https://www.w3.org/TR/css-flexbox-1/#resolve-flexible-lengths" target="_blank" rel="noopener">Â§9.7 Resolving Flexible Lengths</a>ã‚’å‚ç…§ã€‚</p>
<h3 id="9-4-Cross-Size-Determination"><a href="#9-4-Cross-Size-Determination" class="headerlink" title="9.4. Cross Size Determination"></a>9.4. Cross Size Determination</h3><p><strong>7.Determine the hypothetical cross size of each item</strong> by performing layout with the used main size and the available space, treating auto as fit-content.</p>
<p><strong>7.</strong>main sizeã®ä½¿ç”¨å€¤ã¨åˆ©ç”¨å¯èƒ½ã‚¹ãƒšãƒ¼ã‚¹ã‚’ä½¿ã£ã¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€autoã‚’<code>fit-content</code>ã¨ã—ã¦æ‰±ã„ã€<strong>å„itemã®ä»®æƒ³ã®cross sizeã‚’æ±ºå®šã™ã‚‹</strong></p>
<p><strong>8.Calculate the cross size of each flex line.</strong></p>
<blockquote>
<p>If the flex container is single-line and has a definite cross size, the cross size of the flex line is the flex containerâ€™s inner cross size.</p>
<p>Otherwise, for each flex line:</p>
<ol>
<li>Collect all the flex items whose inline-axis is parallel to the main-axis, whose align-self is baseline, and whose cross-axis margins are both non-auto. Find the largest of the distances between each itemâ€™s baseline and its hypothetical outer cross-start edge, and the largest of the distances between each itemâ€™s baseline and its hypothetical outer cross-end edge, and sum these two values.</li>
<li>Among all the items not collected by the previous step, find the largest outer hypothetical cross size.</li>
<li>The used cross-size of the flex line is the largest of the numbers found in the previous two steps and zero.<br>If the flex container is single-line, then clamp the lineâ€™s cross-size to be within the containerâ€™s computed min and max cross sizes. Note that if CSS 2.1â€™s definition of min/max-width/height applied more generally, this behavior would fall out automatically.</li>
</ol>
</blockquote>
<p>ã‚‚ã—flex containerãŒå˜ä¸€è¡Œã§ã€cross sizeãŒæ˜ç¢ºãªå€¤ã§ã‚ã‚‹å ´åˆã€flexè¡Œã®cross sizeã¯flex containerã®inner cross sizeã«ãªã‚‹ã€‚</p>
<p>ãã‚Œä»¥å¤–ã®å ´åˆã€å„flexè¡Œã«ã¤ã„ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚</p>
<ol>
<li>inline-axisãŒmain-axisã«å¯¾ã—ã¦å¹³è¡Œã§ã€align-selfãŒbaselineã§ã€cross-axisãƒãƒ¼ã‚¸ãƒ³ãŒä¸¡æ–¹ã¨ã‚‚autoã§ã¯ãªã„ã™ã¹ã¦ã®flex itemsã‚’é›†ã‚ã‚‹ã€‚å„itemã®baselineã¨ä»®æƒ³outer cross-startã®ç«¯ã¨ã®é–“ã®è·é›¢ãŒä¸€ç•ªå¤§ãã„ç®‡æ‰€ã¨ã€å„itemã®baselineã¨ä»®æƒ³outer cross-endã®ç«¯ã¨ã®é–“ã®è·é›¢ãŒä¸€ç•ªå¤§ãã„ç®‡æ‰€ã‚’è¦‹ã¤ã‘ã¦ã€ãã‚Œã‚‰ã®å€¤ã‚’åˆè¨ˆã™ã‚‹ã€‚</li>
<li>å…ˆã®ã‚¹ãƒ†ãƒƒãƒ—ã§åé›†ã—ãªã‹ã£ãŸã™ã¹ã¦ã®itemsã®ä¸­ã§ã€outerã®ä»®æƒ³cross sizeãŒä¸€ç•ªå¤§ãã„ã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‹</li>
<li>flexè¡Œã®cross-sizeã®ä½¿ç”¨å€¤ã¯ã€å…ˆã®ã‚¹ãƒ†ãƒƒãƒ—ã§è¦‹ã¤ã‘ãŸå€¤ã¨ã‚¼ãƒ­ã®ä¸­ã§ä¸€ç•ªå¤§ãã„å€¤ã«ãªã‚‹ã€‚<br>ã‚‚ã—flex containerãŒå˜ä¸€è¡Œã®å ´åˆã€è¡Œã®cross-sizeã¯containerã®min/max cross sizeã®ä½¿ç”¨å€¤ã®ç¯„å›²å†…ã«åã‚ã‚‹ã€‚ã‚‚ã—min/max-width/heightã®CSS 2.1ã®å®šç¾©ãŒã‚ˆã‚Šåºƒãé©ç”¨ã•ã‚Œã‚‹å ´åˆã€ã“ã®æŒ¯ã‚‹èˆã„ã¯è‡ªå‹•çš„ã«å¤±ã‚ã‚Œã‚‹ã“ã¨ã«æ³¨æ„ã€‚</li>
</ol>
<blockquote>
<p><strong>9. Handle â€˜align-content: stretchâ€™</strong>. If the flex container has a definite cross size, align-content is stretch, and the sum of the flex linesâ€™ cross sizes is less than the flex containerâ€™s inner cross size, increase the cross size of each flex line by equal amounts such that the sum of their cross sizes exactly equals the flex containerâ€™s inner cross size.</p>
</blockquote>
<p><strong>9. <code>align-contnet: strech</code>ã‚’å¯¾å‡¦ã™ã‚‹</strong>ã€‚ã‚‚ã—flex containerãŒcross sizeã®æ˜ç¢ºãªå€¤ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€align-contentã¯stretchã¨ãªã‚Šã€flexè¡Œã®cross sizeã®åˆè¨ˆã¯flex containerã®inner cross sizeã‚ˆã‚Šã‚‚å°ã•ããªã‚Šã€cross sizeã®åˆè¨ˆãŒæ­£ç¢ºã«flex containerã®inner cross sizeã¨åŒã˜ã«ãªã‚‹ã‚ˆã†ã«ã€åŒã˜é‡ã ã‘å„flex lineã®cross sizeã‚’å¢—ã‚„ã™ã€‚</p>
<blockquote>
<p><strong>10. Collapse visibility:collapse items</strong>. If any flex items have visibility: collapse, note the cross size of the line theyâ€™re in as the itemâ€™s strut size, and restart layout from the beginning.</p>
<p>In this second layout round, when collecting items into lines, treat the collapsed items as having zero main size. For the rest of the algorithm following that step, ignore the collapsed items entirely (as if they were display:none) except that after calculating the cross size of the lines, if any lineâ€™s cross size is less than the largest strut size among all the collapsed items in the line, set its cross size to that strut size.</p>
<p>Skip this step in the second layout round.</p>
</blockquote>
<p><strong>10. <code>visibility:collapse</code>ã®itemsã‚’æŠ˜ã‚ŠãŸãŸã‚€</strong>ã€‚ã‚‚ã—ã„ãšã‚Œã‹ã®flex itemsãŒ<code>visibility: collapse</code>ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ãã®itemã®æ”¯æŸ±ã‚µã‚¤ã‚ºã¨ã—ã¦ã€ãã®è¡Œã®cross sizeã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã€æœ€åˆã‹ã‚‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å†é–‹ã™ã‚‹ã€‚</p>
<p>ã“ã®2å›ç›®ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å›ã§ã€itemsã‚’è¡Œã«é›†ã‚ãŸæ™‚ã«ã€æŠ˜ã‚Šç•³ã¾ã‚ŒãŸitemsã‚’ã‚¼ãƒ­ã®main sizeã‚’æŒã£ã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¦æ‰±ã†ã€‚ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã®å¾Œã«ç¶šãæ®‹ã‚Šã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã¤ã„ã¦ã€æŠ˜ã‚Šç•³ã¾ã‚ŒãŸitemsã¯å®Œå…¨ã«ç„¡è¦–ã•ã‚Œã‚Œï¼ˆ<code>display:none</code>ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ã®ã‚ˆã†ã«ãªã‚‹ï¼‰ã€‚ãŸã ã—ã€ã‚‚ã—è¡Œã®cross sizeãŒã€è¡Œå†…ã®æŠ˜ã‚Šç•³ã¾ã‚ŒãŸitemã®ä¸­ã§æœ€ã‚‚å¤§ãã„æ”¯æŸ±ã‚µã‚¤ã‚ºã‚ˆã‚Šã‚‚å°ã•ã„å ´åˆã€ãã®cross sizeã¯æ”¯æŸ±ã‚µã‚¤ã‚ºã«ãªã‚‹ã€‚</p>
<p>2å›ç›®ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å›ã§ã¯ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã€‚</p>
<blockquote>
<p><strong>11. Determine the used cross size of each flex item.</strong> If a flex item has align-self: stretch, its computed cross size property is auto, and neither of its cross-axis margins are auto, the used outer cross size is the used cross size of its flex line, clamped according to the itemâ€™s used min and max cross sizes. Otherwise, the used cross size is the itemâ€™s hypothetical cross size.</p>
<p>If the flex item has align-self: stretch, redo layout for its contents, treating this used size as its definite cross size so that percentage-sized children can be resolved.</p>
<p>Note that this step does not affect the main size of the flex item, even if it has an intrinsic aspect ratio.</p>
</blockquote>
<p>ã‚‚ã—flex itemãŒ<code>align-self: stretch</code>ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ãã®cross sizeã®è¨ˆç®—å€¤ã¯autoã«ã‚ã‚Šã€cross-axisã®ãƒãƒ¼ã‚¸ãƒ³ã¯ã„ãšã‚Œã‚‚autoã«ã¯ãªã‚‰ãšã€outer cross sizeã®ä½¿ç”¨å€¤ã¯flexè¡Œã®cross sizeã®ä½¿ç”¨å€¤ã«ãªã‚Šã€itemã®min/max cross sizeã®ä½¿ç”¨å€¤ã«å¾“ã£ã¦å€¤ã‚’å›ºå®šã™ã‚‹ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€cross sizeã®ä½¿ç”¨å€¤ã¯itemã®ä»®æƒ³cross sizeã«ãªã‚‹ã€‚</p>
<p>ã‚‚ã—flex itemãŒ<code>align-self: stretch</code>ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ãã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾ã—ã¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚„ã‚Šç›´ã—ã€ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã®å­ä¾›ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€ã“ã®ä½¿ç”¨ã‚µã‚¤ã‚ºã‚’cross sizeã®å›ºå®šå€¤ã¨ã—ã¦æ‰±ã†ã€‚</p>
<p>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯itemãŒintrinsicãªã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã§ã‚‚ã€flex itemã®main sizeã«ã¯å½±éŸ¿ã‚’ä¸ãˆãªã„ã“ã¨ã«æ³¨æ„ã€‚</p>
<h3 id="9-5-Main-Axis-Alignment"><a href="#9-5-Main-Axis-Alignment" class="headerlink" title="9.5. Main-Axis Alignment"></a>9.5. Main-Axis Alignment</h3><blockquote>
<p><strong>12. Distribute any remaining free space.</strong> For each flex line:</p>
<ol>
<li>If the remaining free space is positive and at least one main-axis margin on this line is auto, distribute the free space equally among these margins. Otherwise, set all auto margins to zero.</li>
<li>Align the items along the main-axis per justify-content.</li>
</ol>
</blockquote>
<p><strong>12. æ®‹ã‚Šã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã‚’é…åˆ†ã™ã‚‹</strong> å„flexè¡Œã«ã¤ã„ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã€‚</p>
<ol>
<li>ã‚‚ã—æ®‹ã‚Šã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ãŒæ­£ã§ã€ã“ã®è¡Œä¸Šã®å°‘ãªãã¨ã‚‚ä¸€ã¤ã®main-axisãŒautoã§ã‚ã‚‹å ´åˆã€ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã¯ã“ã‚Œã‚‰ã®ãƒãƒ¼ã‚¸ãƒ³ã«å‡ç­‰ã«é…åˆ†ã•ã‚Œã‚‹ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€ã™ã¹ã¦ã®autoãƒãƒ¼ã‚¸ãƒ³ã¯ã‚¼ãƒ­ã«ã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã€‚</li>
<li>justify-contentã«å¾“ã£ã¦ã€main-axisã«æ²¿ã£ã¦itemã‚’æ•´åˆ—ã™ã‚‹ã€‚</li>
</ol>
<h3 id="9-6-Cross-Axis-Alignment"><a href="#9-6-Cross-Axis-Alignment" class="headerlink" title="9.6. Cross-Axis Alignment"></a>9.6. Cross-Axis Alignment</h3><blockquote>
<p><strong>13. Resolve cross-axis auto margins.</strong> If a flex item has auto cross-axis margins:</p>
<ul>
<li>If its outer cross size (treating those auto margins as zero) is less than the cross size of its flex line, distribute the difference in those sizes equally to the auto margins.</li>
<li>Otherwise, if the block-start or inline-start margin (whichever is in the cross axis) is auto, set it to zero. Set the opposite margin so that the outer cross size of the item equals the cross size of its flex line.</li>
</ul>
</blockquote>
<p><strong>13. cross-size auto ãƒãƒ¼ã‚¸ãƒ³ã‚’è§£æ±ºã™ã‚‹</strong> ã‚‚ã—flex itemãŒauto cross-axisãƒãƒ¼ã‚¸ãƒ³ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚</p>
<ul>
<li>ã‚‚ã—outer cross sizeï¼ˆãã‚Œã‚‰ã®autoãƒãƒ¼ã‚¸ãƒ³ã¯ã‚¼ãƒ­ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ï¼‰ãŒã€flexè¡Œã®cross sizeã‚ˆã‚Šå°ã•ã„å ´åˆã€ãã‚Œã‚‰ã®ã‚µã‚¤ã‚ºã®å·®ã‚’autoãƒãƒ¼ã‚¸ãƒ³ã«å‡ç­‰ã«é…åˆ†ã™ã‚‹</li>
<li>ãã‚Œä»¥å¤–ã®å ´åˆã€ã‚‚ã—block-startã‚‚ã—ãã¯inline-startã®ãƒãƒ¼ã‚¸ãƒ³ï¼ˆcross axiså†…ã®ã©ã¡ã‚‰ã§ã‚‚ï¼‰ãŒautoã§ã‚ã‚‹å ´åˆã€ã‚¼ãƒ­ã«ã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã€‚itemã®outer cross sizeãŒflexè¡Œã®cross sizeã¨åŒã˜ã«ãªã‚‹ã‚ˆã†ã«åå¯¾ã®ãƒãƒ¼ã‚¸ãƒ³ãŒã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã€‚</li>
</ul>
<blockquote>
<p><strong>14. Align all flex items along the cross-axis</strong> per align-self, if neither of the itemâ€™s cross-axis margins are auto.</p>
</blockquote>
<p><strong>14.</strong> ã‚‚ã—itemã®cross-axisãƒãƒ¼ã‚¸ãƒ³ãŒã„ãšã‚Œã‚‚autoã§ã¯ãªã„å ´åˆã€align-selfã«å¾“ã£ã¦ã€<strong>ã™ã¹ã¦ã®flex itemsã‚’cross-axisã«æ²¿ã£ã¦æ•´åˆ—ã™ã‚‹ã€‚</strong></p>
<blockquote>
<p><strong>15. Determine the flex containerâ€™s used cross size:</strong></p>
<ul>
<li>If the cross size property is a definite size, use that, clamped by the used min and max cross sizes of the flex container.</li>
<li>Otherwise, use the sum of the flex linesâ€™ cross sizes, clamped by the used min and max cross sizes of the flex container.</li>
</ul>
</blockquote>
<p><strong>15. flex containerã®cross sizeã®ä½¿ç”¨å€¤ã‚’æ±ºå®šã™ã‚‹</strong></p>
<ul>
<li>ã‚‚ã—cross sizeãŒå›ºå®šå€¤ã§ã‚ã‚‹å ´åˆã€ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã€‚flex containerã®min/max cross sizeã®ä½¿ç”¨å€¤ã«ã‚ˆã£ã¦åã‚ã‚‰ã‚Œã‚‹ã€‚</li>
<li>ãã‚Œä»¥å¤–ã®å ´åˆã€flexè¡Œã®cross sizeã®åˆè¨ˆã‚’åˆ©ç”¨ã™ã‚‹ã€‚flex containerã®min/max cross sizeã®ä½¿ç”¨å€¤ã«ã‚ˆã£ã¦åã‚ã‚‰ã‚Œã‚‹ã€‚</li>
</ul>
<blockquote>
<p><strong>16. Align all flex lines</strong> per align-content.</p>
</blockquote>
<p><strong>16.</strong> align-contentã«å¾“ã£ã¦<strong>ã™ã¹ã¦ã®flexè¡Œã‚’æ•´åˆ—ã™ã‚‹</strong></p>
<h3 id="9-7-Resolving-Flexible-Lengths"><a href="#9-7-Resolving-Flexible-Lengths" class="headerlink" title="9.7. Resolving Flexible Lengths"></a>9.7. Resolving Flexible Lengths</h3><blockquote>
<p>To resolve the flexible lengths of the items within a flex line:</p>
</blockquote>
<p>flexè¡Œå†…ã§itemã®flexible lengthã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®ã“ã¨ã‚’è¡Œã†ã€‚</p>
<blockquote>
<p><strong>1. Determine the used flex factor</strong>. Sum the outer hypothetical main sizes of all items on the line. If the sum is less than the flex containerâ€™s inner main size, use the flex grow factor for the rest of this algorithm; otherwise, use the flex shrink factor.</p>
</blockquote>
<p><strong>1. flex factorã®ä½¿ç”¨å€¤ã‚’æ±ºå®šã™ã‚‹ã€‚</strong> è¡Œä¸Šã®ã™ã¹ã¦ã®itemsã®outer ä»®æƒ³main sizeã‚’åˆè¨ˆã™ã‚‹ã€‚ã‚‚ã—åˆè¨ˆãŒflex containerã®inner main sizeã‚ˆã‚Šã‚‚å°ã•ã„å ´åˆã€ã“ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ®‹ã‚Šã®éƒ¨åˆ†ã«ã¤ã„ã¦flex grow factorã‚’ä½¿ç”¨ã™ã‚‹ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€flex shrink factorã‚’ä½¿ç”¨ã™ã‚‹ã€‚</p>
<blockquote>
<p><strong>2. Size inflexible items</strong>. Freeze, setting its target main size to its hypothetical main sizeâ€¦</p>
<ul>
<li>any item that has a flex factor of zero</li>
<li>if using the flex grow factor: any item that has a flex base size greater than its hypothetical main size</li>
<li>if using the flex shrink factor: any item that has a flex base size smaller than its hypothetical main size</li>
</ul>
</blockquote>
<p><strong>2. inflexible itemsã®ã‚µã‚¤ã‚ºã‚’æ±ºã‚ã‚‹ã€‚</strong> ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®main sizeã‚’ä»®æƒ³main sizeã«è¨­å®šã—ã¦å›ºå®šã™ã‚‹</p>
<ul>
<li>flex factorãŒã‚¼ãƒ­ã§ã‚ã‚‹item</li>
<li>ã‚‚ã—flex grow factorã‚’ä½¿ç”¨ã—ã¦ã‚‹å ´åˆã€flex base sizeãŒä»®æƒ³main sizeã‚ˆã‚Šå¤§ãã„item</li>
<li>ã‚‚ã—flex shrink factorã‚’ä½¿ç”¨ã—ã¦ã‚‹å ´åˆã€flex base sizeãŒä»®æƒ³main sizeã‚ˆã‚Šå°ã•ã„item</li>
</ul>
<blockquote>
<p><strong>3. Calculate initial free space</strong>. Sum the outer sizes of all items on the line, and subtract this from the flex containerâ€™s inner main size. For frozen items, use their outer target main size; for other items, use their outer flex base size.</p>
</blockquote>
<p><strong>3. ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã®åˆæœŸå€¤ã‚’è¨ˆç®—ã™ã‚‹ã€‚</strong> è¡Œä¸Šã®ã™ã¹ã¦ã®itemsã®outer sizesã‚’åˆè¨ˆã—ã¦ã€ã“ã‚Œã‚’flex containerã®inner main sizeã‹ã‚‰å¼•ãã€‚å›ºå®šã—ãŸitemsã«ã¤ã„ã¦ã¯ã€ãã‚Œã‚‰ã®outer target main sizeã‚’ä½¿ç”¨ã™ã‚‹ã€‚ãã‚Œä»¥å¤–ã®itemsã«ã¯ã€ãã‚Œã‚‰ã®outer flex base sizeã‚’ä½¿ç”¨ã™ã‚‹ã€‚</p>
<blockquote>
<p><strong>4.</strong> Loop:<br>a. Check for flexible items. If all the flex items on the line are frozen, free space has been distributed; exit this loop.<br>b. Calculate the remaining free space as for initial free space, above. If the sum of the unfrozen flex itemsâ€™ flex factors is less than one, multiply the initial free space by this sum. If the magnitude of this value is less than the magnitude of the remaining free space, use this as the remaining free space.<br>c. Distribute free space proportional to the flex factors.<br><strong>If the remaining free space is zero</strong><br>Do nothing.<br><strong>If using the flex grow factor</strong><br>Find the ratio of the itemâ€™s flex grow factor to the sum of the flex grow factors of all unfrozen items on the line. Set the itemâ€™s target main size to its flex base size plus a fraction of the remaining free space proportional to the ratio.<br><strong>If using the flex shrink factor</strong><br>For every unfrozen item on the line, multiply its flex shrink factor by its inner flex base size, and note this as its scaled flex shrink factor. Find the ratio of the itemâ€™s scaled flex shrink factor to the sum of the scaled flex shrink factors of all unfrozen items on the line. Set the itemâ€™s target main size to its flex base size minus a fraction of the absolute value of the remaining free space proportional to the ratio. Note this may result in a negative inner main size; it will be corrected in the next step.<br><strong>Otherwise</strong><br>Do nothing.<br>d. <strong>Fix min/max violations</strong>. Clamp each non-frozen itemâ€™s target main size by its used min and max main sizes and floor its content-box size at zero. If the itemâ€™s target main size was made smaller by this, itâ€™s a max violation. If the itemâ€™s target main size was made larger by this, itâ€™s a min violation.<br>e. <strong>Freeze over-flexed items.</strong> The total violation is the sum of the adjustments from the previous step âˆ‘(clamped size - unclamped size). If the total violation is:<br><strong>Zero</strong><br>Freeze all items.<br><strong>Positive</strong><br>Freeze all the items with min violations.<br><strong>Negative</strong><br>Freeze all the items with max violations.<br>f. Return to the start of this loop.</p>
</blockquote>
<p><strong>4.</strong> Loop:</p>
<p>a. <strong>flexible itemsã‚’ç¢ºèªã™ã‚‹</strong>ã€‚ã‚‚ã—è¡Œä¸Šã®ã™ã¹ã¦ã®flex itemsãŒå›ºå®šã§ã‚ã‚‹ãªã‚‰ã€ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã¯é…åˆ†ã•ã‚Œã¦ã„ã‚‹ã€‚ãƒ«ãƒ¼ãƒ—ã‚’çµ‚äº†ã™ã‚‹ã€‚<br>b. ä¸Šè¿°ã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã®åˆæœŸå‡¦ç†ã¨åŒã˜ã‚ˆã†ã«<strong>æ®‹ã‚Šã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã‚’è¨ˆç®—ã™ã‚‹</strong>ã€‚ã‚‚ã—å›ºå®šåŒ–ã•ã‚Œã¦ã„ãªã„flex itemsã®flex factorsã®åˆè¨ˆãŒ1ã‚ˆã‚Šã‚‚ä½ã„å ´åˆã€ã“ã®åˆè¨ˆå€¤ã§åˆæœŸã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã‚’ä¹—ç®—ã™ã‚‹ã€‚ã‚‚ã—ã“ã®å€¤ã®å¤§ãã•ãŒæ®‹ã‚Šã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã®å¤§ãã•ã‚ˆã‚Šã‚‚å°ã•ã„å ´åˆã€ã“ã®å€¤ã‚’æ®‹ã‚Šä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚<br>c. <strong>flex factorsã«å¿œã˜ã¦ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã®é…åˆ†ã™ã‚‹ã€‚</strong></p>
<ul>
<li>æ®‹ã‚Šã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ãŒã‚¼ãƒ­ã ã£ãŸã‚‰<br>ä½•ã‚‚ã—ãªã„</li>
<li>flex grow factorã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆ<br>è¡Œä¸Šã®ã™ã¹ã¦ã®å›ºå®šåŒ–ã•ã‚Œã¦ã„ãªã„itemsã®flex grow factorsã®åˆè¨ˆã«å¯¾ã™ã‚‹ã€ãã®itemã®flex grow factorã®å‰²åˆã‚’èª¿ã¹ã‚‹ã€‚itemã®target main sizeã‚’flex base sizeã«ã€ãã®å‰²åˆã«æ¯”ä¾‹ã—ãŸæ®‹ã‚Šä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã®å‰²åˆã‚’ãƒ—ãƒ©ã‚¹ã—ãŸå€¤ã«è¨­å®šã™ã‚‹ã€‚</li>
<li>flex shrink factorã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆ<br>è¡Œä¸Šã®ã™ã¹ã¦ã®å›ºå®šåŒ–ã•ã‚Œã¦ã„ãªã„itemã«å¯¾ã—ã¦ã€itemã®flex shrink factorã«ãã®inner flex base sizeã‚’ä¹—ç®—ã—ã¦ã€ã“ã®å€¤ã‚’scaled flex shrink factorã¨ã—ã¦ãƒ¡ãƒ¢ã™ã‚‹ã€‚è¡Œä¸Šã®ã™ã¹ã¦ã®å›ºå®šåŒ–ã•ã‚Œã¦ã„ãªã„itemã®flex shrink factorã®åˆè¨ˆã«å¯¾ã™ã‚‹ã€itemã®scaled flex shrink factorã®å‰²åˆã‚’èª¿ã¹ã‚‹ã€‚itemã®target main sizeã«ã€flex base size ã«ãã®å‰²åˆã«æ¯”ä¾‹ã—ãŸæ®‹ã‚Šä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã®çµ¶å¯¾å€¤ã®å‰²åˆã‚’ãƒã‚¤ãƒŠã‚¹ã—ãŸå€¤ã‚’è¨­å®šã™ã‚‹ã€‚ã“ã‚Œã¯æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ä¿®æ­£ã•ã‚Œã‚‹ã€‚</li>
<li>ãã®ä»–ã®å ´åˆ<br>ä½•ã‚‚ã—ãªã„<br>d. <strong>min/maxé•åã‚’ä¿®æ­£ã™ã‚‹ã€‚</strong>å„å›ºå®šã•ã‚Œã¦ã„ãªã„itemã®target main sizeã‚’min/max main sizeã®ä½¿ç”¨å€¤å†…ã«åã‚ã€content-boxã®ã‚µã‚¤ã‚ºã‚’0ã«åˆ‡ã‚Šæ¨ã¦ã‚‹ã€‚ã‚‚ã—itemã®target main sizeãŒã“ã‚Œã«ã‚ˆã£ã¦å°ã•ããªã‚‹å ´åˆã¯ã€maxé•åã¨ãªã‚‹ã€‚ã‚‚ã—itemã®target main sizeãŒã“ã‚Œã‚ˆã‚Šå¤§ãããªã‚‹å ´åˆã¯ã€ãã‚Œã¯miné•åã¨ãªã‚‹ã€‚<br>e. <strong>over-flexed itemã‚’å›ºå®šã™ã‚‹</strong>é•åã®ç·è¨ˆã¯ã€å…ˆã®ã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰ã®èª¿æ•´å€¤ã®åˆè¨ˆï¼ˆâˆ‘(clamped size - unclamped size)ï¼‰ã«ãªã‚‹ã€‚ã‚‚ã—é•åã®ç·è¨ˆãŒ</li>
<li>ã‚¼ãƒ­ã®å ´åˆã€ã™ã¹ã¦å›ºå®šã«ã™ã‚‹</li>
<li>æ­£ã®å ´åˆã€miné•åã«ã¦ã€ã™ã¹ã¦ã®itemã‚’å›ºå®šã™ã‚‹</li>
<li>è² ã®å ´åˆã€maxé•åã«ã¦ã€ã™ã¹ã¦ã®itemã‚’å›ºå®šã™ã‚‹<br>f. ã“ã®ãƒ«ãƒ¼ãƒ—ã®æœ€åˆã«æˆ»ã‚‹</li>
</ul>
<blockquote>
<p><strong>5.</strong> Set each itemâ€™s used main size to its target main size.</p>
</blockquote>
<p>å„itemã®main sizeã®ä½¿ç”¨å€¤ã‚’ã€itemã®target main sizeã«è¨­å®šã™ã‚‹</p>
<h3 id="9-8-Definite-and-Indefinite-Sizes"><a href="#9-8-Definite-and-Indefinite-Sizes" class="headerlink" title="9.8. Definite and Indefinite Sizes"></a>9.8. Definite and Indefinite Sizes</h3><blockquote>
<p>Although CSS Sizing [<a href="https://www.w3.org/TR/css-flexbox-1/#biblio-css-sizing-3" target="_blank" rel="noopener">CSS-SIZING-3</a>] defines definite and indefinite lengths, Flexbox has several additional cases where a length can be considered definite:</p>
<ol>
<li>If a single-line flex container has a definite cross size, the outer cross size of any stretched flex items is the flex containerâ€™s inner cross size (clamped to the flex itemâ€™s min and max cross size) and is considered definite.</li>
<li>If the flex container has a definite main size, a flex itemâ€™s post-flexing main size is treated as definite, even though it can rely on the indefinite sizes of any flex items in the same line.</li>
<li>Once the cross size of a flex line has been determined, items in auto-sized flex containers are also considered definite for the purpose of layout; see <a href="https://www.w3.org/TR/css-flexbox-1/#algo-stretch" target="_blank" rel="noopener">step 11</a>.</li>
</ol>
<p><strong>Note:</strong> The main size of a fully inflexible item with a definite flex basis is, by definition, definite.</p>
</blockquote>
<p>CSS Sizing [<a href="https://www.w3.org/TR/css-flexbox-1/#biblio-css-sizing-3" target="_blank" rel="noopener">CSS-SIZING-3</a>] ãŒ<a href="https://www.w3.org/TR/css-sizing-3/#definite" target="_blank" rel="noopener">æ˜ç¢º</a>ãƒ»<a href="https://www.w3.org/TR/css-sizing-3/#indefinite" target="_blank" rel="noopener">ä¸æ˜ç¢º</a>ãªé•·ã•ã«ã¤ã„ã¦å®šç¾©ã—ã¦ã„ã‚‹ãŒã€flexboxã§ã‚‚é•·ã•ãŒæ˜ç¢ºã§ã‚ã‚‹ã¨è¦‹ãªã•ã‚Œã‚‹è¿½åŠ ã®ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã€‚</p>
<ol>
<li>ã‚‚ã—å˜ä¸€è¡Œã®flex containerãŒæ˜ç¢ºãªcross sizeã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ä¼¸é•·ã—ãŸflex itemsã®outer cross sizeã¯flex containerã®inner cross sizeï¼ˆflex itemã®min/max cross sizeã«åã¾ã‚‹ï¼‰ã¨ãªã‚Šã€æ˜ç¢ºã§ã‚ã‚‹ã¨è¦‹ãªã•ã‚Œã‚‹ã€‚</li>
<li>ã‚‚ã—flex containerãŒæ˜ç¢ºãªmain sizeã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ãŸã¨ãˆãã‚ŒãŒåŒã˜è¡Œã«ã‚ã‚‹flex itemã®ä¸æ˜ç¢ºãªã‚µã‚¤ã‚ºã«ä¾å­˜ã—ã¦ã„ã¦ã‚‚ã€flex itemã®post-flexing main sizeã¯æ˜ç¢ºãªã‚µã‚¤ã‚ºã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚</li>
<li>ã²ã¨ãŸã³flex lineã®cross sizeãŒæ±ºå®šã•ã‚ŒãŸã‚‰ã€auto-sized flex containerså†…ã®itemsã¯ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç›®çš„ã§æ˜ç¢ºãªã‚µã‚¤ã‚ºã¨è¦‹ãªã•ã‚Œã‚‹ã€‚<a href="https://www.w3.org/TR/css-flexbox-1/#algo-stretch" target="_blank" rel="noopener">step 11</a>å‚ç…§ã€‚</li>
</ol>
<p><strong>æ³¨</strong> ä¸æ˜ç¢ºãªflex basisã‚’æŒã¤å®Œå…¨ã«inflexibleãªitemã®main sizeã¯ã€å®šç¾©ã«ã‚ˆã‚Šã€æ˜ç¢ºãªã‚µã‚¤ã‚ºã¨ãªã‚‹ã€‚</p>
<h3 id="9-9-Intrinsic-Sizes"><a href="#9-9-Intrinsic-Sizes" class="headerlink" title="9.9. Intrinsic Sizes"></a>9.9. Intrinsic Sizes</h3><blockquote>
<p>The <a href="https://www.w3.org/TR/css-sizing-3/#intrinsic-sizing" target="_blank" rel="noopener">intrinsic sizing</a> of a flex container is used to produce various types of content-based automatic sizing, such as shrink-to-fit logical widths (which use the fit-content formula) and content-based logical heights (which use the max-content size).</p>
<p>See <a href="https://www.w3.org/TR/css-flexbox-1/#biblio-css-sizing-3" target="_blank" rel="noopener">[CSS-SIZING-3]</a> for a definition of the terms in this section.</p>
</blockquote>
<p>flex cotainerã®<a href="https://www.w3.org/TR/css-sizing-3/#intrinsic-sizing" target="_blank" rel="noopener">intrinsic sizing</a>ã¯ã€shrink-to-fit logical width ï¼ˆã“ã‚Œã¯fit-contentã®å¼ã§ä½¿ã†ï¼‰ã‚„content-based logical heightï¼ˆmax-contentã‚µã‚¤ã‚ºã§ä½¿ã†ï¼‰ãªã©ã®ã‚ˆã†ã«ã€æ§˜ã€…ãªã‚¿ã‚¤ãƒ—ã®content-basedè‡ªå‹•ã‚µã‚¤ã‚ºã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã‚‹ã€‚</p>
<p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç”¨èªã®å®šç¾©ã«ã¤ã„ã¦ã¯<a href="https://www.w3.org/TR/css-flexbox-1/#biblio-css-sizing-3" target="_blank" rel="noopener">[CSS-SIZING-3]</a>ã‚’å‚ç…§ã€‚</p>
<h4 id="9-9-1-Flex-Container-Intrinsic-Main-Sizes"><a href="#9-9-1-Flex-Container-Intrinsic-Main-Sizes" class="headerlink" title="9.9.1. Flex Container Intrinsic Main Sizes"></a>9.9.1. Flex Container Intrinsic Main Sizes</h4><blockquote>
<p>The max-content main size of a flex container is the smallest size the flex container can take while maintaining the max-content contributions of its flex items, insofar as allowed by the itemsâ€™ own flexibility:</p>
</blockquote>
<p>flex containerã®max-contentã®main sizeã¯ã€flex itemsã®max-contentã®é…åˆ†ã‚’ç¶­æŒã—ãªãŒã‚‰ã€flex containerãŒå–ã‚Šã†ã‚‹æœ€å°ã‚µã‚¤ã‚ºã«ãªã‚‹ã€‚</p>
<blockquote>
<ol>
<li>For each flex item, subtract its outer flex base size from its max-content contribution size. If that result is positive, divide by its flex grow factor floored at 1; if negative, divide by its scaled flex shrink factor having floored the flex shrink factor at 1. This is the itemâ€™s max-content flex fraction.</li>
<li>Place all flex items into lines of infinite length.</li>
<li>Within each line, find the largest max-content flex fraction among all the flex items. Add each itemâ€™s flex base size to the product of its flex grow factor (or scaled flex shrink factor, if the chosen max-content flex fraction was negative) and the chosen max-content flex fraction, then clamp that result by the max main size floored by the min main size.</li>
<li>The flex containerâ€™s max-content size is the largest sum of the afore-calculated sizes of all items within a single line.</li>
</ol>
</blockquote>
<ol>
<li>å„flex itemã«ã¤ã„ã¦ã€ãã®max-contenté…åˆ†ã‚µã‚¤ã‚ºã‹ã‚‰ã€outer flex base sizeã‚’å¼•ãã€‚ã‚‚ã—çµæœãŒæ­£ã§ã‚ã‚Œã°ã€flex grow factorã‚’1ã§åˆ‡ã‚Šæ¨ã¦ãŸå€¤ã§é™¤ç®—ã™ã‚‹ã€‚ã‚‚ã—çµæœãŒè² ã§ã‚ã‚Œã°ã€flex shrink factorã‚’1ã§åˆ‡ã‚Šæ¨ã¦ãŸã€ã‚¹ã‚±ãƒ¼ãƒ«ã•ã‚ŒãŸflex shrink factorã§é™¤ç®—ã™ã‚‹ã€‚ã“ã‚Œã¯itemã®max-content flex fractionã«ãªã‚‹ã€‚</li>
<li>ã™ã¹ã¦ã®flex itemsã‚’ä¸å®šã®é•·ã•ã®è¡Œã«é…ç½®ã™ã‚‹ã€‚</li>
<li>å„è¡Œã®ä¸­ã§ã€flex itemsã®ä¸­ã§ä¸€ç•ªå¤§ãã„max-content flex fractionã‚’æ¢ã™ã€‚å„itemã®flex base sizeã«flex grow factorï¼ˆã‚‚ã—ãã¯ã‚‚ã—é¸æŠã—ãŸmax-content flex fractionãŒè² ã®å ´åˆã€ã‚¹ã‚±ãƒ¼ãƒ«ã•ã‚ŒãŸflex factorï¼‰ã¨é¸æŠã—ãŸmax-content flex fractionã¨ã®ç©ã‚’è¿½åŠ ã—ã¦ã€min main sizeã§åˆ‡ã‚Šæ¨ã¦ã‚‰ã‚ŒãŸmax main sizeã«ã‚ˆã£ã¦çµæœã‚’åˆ¶é™ã™ã‚‹ã€‚</li>
<li>flex containerã®max-content sizeã¯ã€å˜ä¸€è¡Œå†…ã®ã™ã¹ã¦ã®itemsã®å…ˆã«è¨ˆç®—ã—ãŸã‚µã‚¤ã‚ºã®åˆè¨ˆã®ä¸€ç•ªå¤§ããªå€¤ã«ãªã‚‹ã€‚</li>
</ol>
<blockquote>
<p>The min-content main size of a single-line flex container is calculated identically to the max-content main size, except that the flex itemâ€™s min-content contribution is used instead of its max-content contribution. However, for a multi-line container, it is simply the largest min-content contribution of all the flex items in the flex container.</p>
</blockquote>
<p>å˜ä¸€è¡Œã®flex containerã®min-content sizeã¯ã€flex itemã®min-contentã®é…åˆ†ãŒã€ãã®max-contentã®é…åˆ†ã®ä»£ã‚ã‚Šã«ã¤ã‹ã‚ã‚Œã¦ã„ã‚‹å ´åˆã¯é™¤ã„ã¦ã€max-content main sizeã¨åŒã˜ã‚ˆã†ã«è¨ˆç®—ã•ã‚Œã‚‹ã€‚ã—ã‹ã—ãªãŒã‚‰ã€è¤‡æ•°è¡Œã®containerã«å¯¾ã—ã¦ã¯ã€å˜ã«flex containerå†…ã®ã™ã¹ã¦ã®flex itemsã®min-contentã®é…åˆ†ã®ã†ã¡ã€ä¸€ç•ªå¤§ããªå€¤ã«ãªã‚‹ã€‚</p>
<blockquote>
<p><strong>Implications of this algorithm when the sum of flex is less than 1</strong><br>The above algorithm is designed to give the correct behavior for two cases in particular, and make the flex containerâ€™s size continuous as you transition between the two:</p>
<ol>
<li><p>If all items are inflexible, the flex container is sized to the sum of their flex base size. (An inflexible flex base size basically substitutes for a width/height, which, when specified, is what a max-content contribution is based on in Block Layout.)</p>
</li>
<li><p>When all items are flexible with flex factors â‰¥ 1, the flex container is sized to the sum of the max-content contributions of its items (or perhaps a slightly larger size, so that every flex item is at least the size of its max-content contribution, but also has the correct ratio of its size to the size of the other items, as determined by its flexibility).</p>
</li>
</ol>
<p>For example, if a flex container has a single flex item with flex-basis: 100px; but a max-content size of 200px, then when the item is flex-grow: 0, the flex container (and flex item) is 100px wide, but when the item is flex-grow: 1 or higher, the flex container (and flex item) is 200px wide.</p>
<p>There are several possible ways to make the overall behavior continuous between these two cases, particularly when the sum of flexibilities on a line is between 0 and 1, but all of them have drawbacks. We chose one we feel has the least bad implications; unfortunately, it â€œdouble-appliesâ€ the flexibility when the sum of the flexibilities is less than 1. In the above example, if the item has flex-grow: .5, then the flex container ends up 150px wide, but the item then sizes normally into that available space, ending up 125px wide.</p>
</blockquote>
<p><strong>flexã®åˆè¨ˆãŒ1æœªæº€ã®å ´åˆã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…</strong><br>ä¸Šè¿°ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ç‰¹ã«2ã¤ã®ã‚±ãƒ¼ã‚¹ã«å¯¾ã—ã¦æ­£ã—ã„æŒ¯ã‚‹èˆã„ã‚’ä¸ãˆã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€flex containerã®ã‚µã‚¤ã‚ºã‚’2ã¤ã®ã‚±ãƒ¼ã‚¹é–“ã§é€£ç¶šçš„ãªç§»è¡Œã‚’å¯èƒ½ã«ã™ã‚‹ã€‚</p>
<ol>
<li>ã™ã¹ã¦ã®itemsãŒæŸ”è»Ÿã§ã¯ãªã„å ´åˆã€flex containerã¯flex base sizeã®åˆè¨ˆå€¤ã«ãªã‚‹ã€‚ï¼ˆinflexibleãªflex base sizeã¯åŸºæœ¬çš„ã«width/heightã€ã¤ã¾ã‚ŠæŒ‡å®šã•ã‚Œã‚‹ã¨max-contentã®é…åˆ†ãŒãƒ–ãƒ­ãƒƒã‚¯ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ãŠã„ã¦åŸºæœ¬ã«ãªã‚‹ã‚‚ã®ã€ã®ä»£ã‚ã‚Šã«ä½¿ç”¨ã•ã‚Œã‚‹ã€‚ï¼‰</li>
<li>ã™ã¹ã¦ã®itemsãŒæŸ”è»Ÿã§ã‚ã‚Šã€flex factorsãŒ1ä»¥ä¸Šã®å ´åˆã€flex containerã¯ãã®itemsã®max-contentã®é…åˆ†ã®åˆè¨ˆã«ãªã‚‹ï¼ˆã‚‚ã—ãã¯ã©ã®flex itemã‚‚å°‘ãªãã¨ã‚‚max-contentã®é…åˆ†ã®ã‚µã‚¤ã‚ºã«ãªã‚‹ã ã‘ã¯ãªãã€ãã®æŸ”è»Ÿæ€§ã«ã‚ˆã£ã¦æ±ºå®šã•ã‚Œã‚‹ã‚ˆã†ã«ã€itemã®ã‚µã‚¤ã‚ºã¨ä»–ã®itemã®ã‚µã‚¤ã‚ºã®æ¯”ç‡ãŒæ­£ã—ãã‚ã‚‹ãŸã‚ã«ãŠãã‚‰ãå°‘ã—ã ã‘å¤§ããªã‚µã‚¤ã‚ºã«ãªã‚‹ï¼‰ã€‚</li>
</ol>
<p>ãŸã©ãˆã°ã€ã‚‚ã—flex containerãŒ<code>flex-basis: 100px</code>ã‚’æŒã¡ã€200pxã®max-contentã‚µã‚¤ã‚ºã‚’æŒã¤å˜ä¸€ã®flex itemã‚’æŒã¤å ´åˆã€itemãŒ<code>flex-grow: 0</code>ãªã‚‰ã€flex containerï¼ˆã¨flex itemï¼‰ã¯100pxã®å¹…ã«ãªã‚‹ã€‚ã—ã‹ã—itemãŒ<code>flex-grow: 1</code>ã‚‚ã—ãã¯ãã‚Œä»¥ä¸Šã®å ´åˆã€flex containerï¼ˆã¨flex itemï¼‰ã¯200pxã®å¹…ã«ãªã‚‹ã€‚</p>
<p>ã“ã‚Œã‚‰ã®äºŒã¤ã®ã‚±ãƒ¼ã‚¹ã®é–“ã®å…¨ä½“ã®æŒ¯ã‚‹èˆã„ã‚’ç¶™ç¶šçš„ã«ã™ã‚‹ãŸã‚ã«ã¯ã„ãã¤ã‹ã®æ–¹æ³•ãŒã‚ã‚Šã€ç‰¹ã«è¡Œä¸Šã®flexibilitiesã®åˆè¨ˆãŒ0ã‹ã‚‰1ã®é–“ã®å ´åˆã‚ã‚‹ãŒã€ãã‚Œã‚‰ã®å…¨ã¦ã«ã¤ã„ã¦æ¬ ç‚¹ãŒã‚ã‚‹ã€‚ç§ãŸã¡ã¯ãã®ã†ã¡ä¸€ç•ªæ‚ªããªã„å®Ÿè£…ã§ã‚ã‚‹ã¨æ„Ÿã˜ã‚‹ã‚‚ã®ã‚’é¸ã‚“ã ã€‚æ®‹å¿µãªãŒã‚‰ã€ã€ãã‚Œã¯flexibilitiesã®åˆè¨ˆãŒ1ã‚ˆã‚Šå°ã•ã„å ´åˆã€flexibilitiesã‚’ã€Œé‡è¤‡é©ç”¨ã€ã™ã‚‹ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€ã‚‚ã—itemãŒ<code>flex-grow: .5</code>ã®å ´åˆã€flex containerã¯150pxã®å¹…ã«ãªã‚‹ãŒã€itemã¯é€šå¸¸åˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã«åã¾ã‚‹ã®ã§ã€itemã®å¹…ã¯125pxã«ãªã‚‹ã€‚</p>
<h3 id="9-9-2-Flex-Container-Intrinsic-Cross-Sizes"><a href="#9-9-2-Flex-Container-Intrinsic-Cross-Sizes" class="headerlink" title="9.9.2. Flex Container Intrinsic Cross Sizes"></a>9.9.2. Flex Container Intrinsic Cross Sizes</h3><blockquote>
<p>The min-content/max-content cross size of a single-line flex container is the largest min-content contribution/max-content contribution (respectively) of its flex items.</p>
</blockquote>
<p>å˜ä¸€è¡Œflex containerã®min-content/max-contentã®cross sizeã¯ã€flex itemsã®ï¼ˆãã‚Œãã‚Œã®ï¼‰min-contentã®é…åˆ†/max-contentã®é…åˆ†ã«ãªã‚‹ã€‚</p>
<blockquote>
<p>For a multi-line flex container, the min-content/max-content cross size is the sum of the flex line cross sizes resulting from sizing the flex container under a cross-axis min-content constraint/max-content constraint (respectively). However, if the flex container is flex-flow: column wrap;, then itâ€™s sized by first finding the largest min-content/max-content cross-size contribution among the flex items (respectively), then using that size as the available space in the cross axis for each of the flex items during layout.</p>
</blockquote>
<p>è¤‡æ•°è¡Œã®flex containerã§ã¯ã€min-content/max-content cross sizeã¯ï¼ˆãã‚Œãã‚Œã®ï¼‰cross-axis min-contentåˆ¶ç´„/max-contentåˆ¶ç´„ã®ä¸‹ã€flex containerã‚’ã‚µã‚¤ã‚ºè¨­å®šã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å¾—ã‚‰ã‚Œã‚‹flexè¡Œã®cross sizeã®åˆè¨ˆã«ãªã‚‹ã€‚ã—ã‹ã—ãªãŒã‚‰ã€ã‚‚ã—flex containerãŒ<code>flex-flow: column wrap;</code> ã§ã‚ã‚‹å ´åˆã€æœ€åˆã«ï¼ˆãã‚Œãã‚Œã®ï¼‰flex itemsã®ä¸­ã®min-content/max-contentã®cross-sizeã®é…åˆ†ã®å¤§ãã„å€¤ã‚’è¦‹ã¤ã‘ã¦ã‚µã‚¤ã‚ºã‚’è¨­å®šã—ã€ãã®ã‚µã‚¤ã‚ºã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¸­ã«ãã‚Œãã‚Œã®flex itemsã«å¯¾ã—ã¦cross sizeã®ä½™ç™½ã‚¹ãƒšãƒ¼ã‚¹ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã€‚</p>
<blockquote>
<p><strong>Note:</strong> This heuristic for column wrap flex containers gives a reasonable approximation of the size that the flex container should be, with each flex item ending up as min(itemâ€™s own max-content, maximum min-content among all items), and each flex line no larger than its largest flex item. Itâ€™s not a perfect fit in some cases, but doing it completely correct is insanely expensive, and this works reasonably well.</p>
</blockquote>
<p><code>column wrap</code>ã®flex containerã«ã¤ã„ã¦ã®ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¯ã€å„flex itemãŒæœ€å°ï¼ˆitemè‡ªèº«ã®max-content, å…¨itemã®ä¸­ã®æœ€å¤§min-contentï¼‰ã§ã‚ã‚Šã€å„flexè¡ŒãŒæœ€ã‚‚å¤§ãã„flex itemã‚ˆã‚Šã‚‚å¤§ãããªã„ã‚ˆã†ãªflex containerã«ãªã‚‹ã‚ˆã†ã«ã‚µã‚¤ã‚ºã®å¦¥å½“ãªæ¦‚ç®—ã‚’æä¾›ã™ã‚‹ã€‚ãã‚Œã¯ã„ãã¤ã‹ã®ã‚±ãƒ¼ã‚¹ã§ã¯å®Œå…¨ã«ã¯é©åˆã—ãªã„ã‹ã‚‚ã—ã‚Œãªã„ãŒã€å®Œå…¨ã«æ­£ã—ãè¡Œã†ã“ã¨ã¯éå¸¸ã«é«˜ã‚³ã‚¹ãƒˆã§ã‚ã‚Šã€ã“ã®æ–¹æ³•ãŒè‰¯ã„æ„Ÿã˜ã«æ©Ÿèƒ½ã™ã‚‹ã€‚</p>
<h3 id="9-9-3-Flex-Item-Intrinsic-Size-Contributions"><a href="#9-9-3-Flex-Item-Intrinsic-Size-Contributions" class="headerlink" title="9.9.3. Flex Item Intrinsic Size Contributions"></a>9.9.3. Flex Item Intrinsic Size Contributions</h3><blockquote>
<p>The main-size min-content contribution of a flex item is the larger of its outer min-content size and outer <a href="https://www.w3.org/TR/css-sizing-3/#preferred-size-properties" target="_blank" rel="noopener">preferred size</a> (its width/height as appropriate) if that is not auto, clamped by its flex base size as a maximum (if it is not growable) and/or as a minimum (if it is not shrinkable), and then further clamped by its min/max main size.</p>
</blockquote>
<p>flex itemã®main-size min-contentã®é…åˆ†ã¯ã€autoã§ãªã„å ´åˆã€outer min-content sizeã¨outer <a href="https://www.w3.org/TR/css-sizing-3/#preferred-size-properties" target="_blank" rel="noopener">preferred size</a>ï¼ˆå¿…è¦ã«å¿œã˜ã¦widthã‚„heightï¼‰ã®å¤§ãã„æ–¹ã«ãªã‚Šã€flex base sizeã‚’æœ€å¤§å€¤ï¼ˆgrowableã®å ´åˆï¼‰and/oræœ€å°å€¤ï¼ˆshrinkableã®å ´åˆï¼‰ã¨ã—ã¦åˆ¶é™ã—ã€ãã‚Œã‹ã‚‰min/max main sizeã«ã‚ˆã£ã¦ã•ã‚‰ã«åˆ¶é™ã•ã‚Œã‚‹ã€‚</p>
<blockquote>
<p>The main-size max-content contribution of a flex item is the larger of its outer max-content size and outer preferred size (its width/height as appropriate) clamped by its flex base size as a maximum (if it is not growable) and/or as a minimum (if it is not shrinkable), and then further clamped by its min/max main size.</p>
</blockquote>
<p>flex itemã®main-size max-contentã®é…åˆ†ã¯ã€outer max-content sizeã¨outer preferred sizeï¼ˆå¿…è¦ã«å¿œã˜ã¦widthã‚„heightï¼‰ã®å¤§ãã„æ–¹ã«ãªã‚Šã€flex base sizeã‚’æœ€å¤§å€¤ï¼ˆgrowableã®å ´åˆï¼‰and/oræœ€å°å€¤ï¼ˆshrinkableã®å ´åˆï¼‰ã¨ã—ã¦åˆ¶é™ã—ã€ãã‚Œã‹ã‚‰min/max main sizeã«ã‚ˆã£ã¦ã•ã‚‰ã«åˆ¶é™ã•ã‚Œã‚‹ã€‚</p>
</div>
        <footer class="profile">
  <div class="profile-inner">
    <div class="profile__image"><img src="/assets/icons/icon.svg" role="presentation" width="48" height="48" alt="icon"></div>
    <h2 class="profile__heading">About the Author</h2>
    <div class="profile__content">
      <div>Yutaka Yamaguchi</div>
      <div>a (front-end) engineer living in Tokyo, using TypeScript, Node.js, JavaScript, swift and perl for work, interested in WASM and Rust, studying English.</div>
      <ul class="profile__social-list">
        <li class="profile__social-list-item"><a target="_blank" rel="noopener" href="https://twitter.com/memolog">Twitter</a></li>
        <li class="profile__social-list-item"><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/yutakayamaguchi/">LinkedIn</a></li>
        <li class="profile__social-list-item"><a target="_blank" rel="noopener" href="https://www.facebook.com/yutaka.yamaguchi">Facebook</a></li>
      </ul>
    </div>
  </div>
</footer>

      </article>
    </main>
  </div>
  <script>
  // http://css-tricks.com/favicons-next-to-external-links/
  (function (){
    'use strict';
    if (/googlebot/i.test(navigator.userAgent)) {
      return;
    }
    window.addEventListener("load", () => {
      const links = document.querySelectorAll('.content p a');
      const linkLength = links && links.length || 0;
      for (var i=0; i<linkLength; i++){
        const link = links[i];
        const hostname = link.hostname;
        if (hostname) {
          const children = link.children || [];
          const firstChild = children && children[0];
          if (firstChild && firstChild.tagName === 'IMG') {
            // For old amazon image link
            if (link.hostname === 'www.amazon.co.jp') {
              link.style.float = 'left';
              link.style.marginRight = '1em';
              link.style.paddingLeft = '0';
            }
            continue;
          }

          link.classList.add('link-icon');
          link.style.backgroundImage = `url(https://www.google.com/s2/favicons?domain=${hostname})`;
        }
      }
    });
  })();
</script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js');
  }
</script>

</body>
</html>
